## Generate Tests ##

Riscv tests are available from the repository  https://github.com/riscv/riscv-tests.

### Linux ###

Clone the repository and compile the files with the gnu riscv compiler, resources at https://github.com/riscv-collab/riscv-gnu-toolchain.git.

    git clone https://github.com/riscv/riscv-tests
    cd riscv-tests
    git submodule update --init --recursive
    autoconf
    ./configure
    make
    make install
    cd ..

The directory contains executable and .dump files in order to make the binaries needed to run the emulator execute the gen\_test.py script:

    ./gen_test.py

### Windows ###
So far (01/09/2023) there's no gnu toolchain for Windows, therefore the only available binaries are the ones precompiled in bin\_files.
For the same reason the dump\_files directory contains the dump files needed by check\_correctness script.

## Execution ##

Every binary file is divided into blocks, each one is a test that ends with a conditional jump. 
If the condition is true the next instruction is marked as fail, so something went wrong, otherwise the next block is executed.
The last test has two conditional jumps to the fail or pass instruction.
Check\_correctness.py runs the executable in the mode specified (i.e Release or Debug) and checks the presence of \<pass\>  instruction address and the absence of \<fail\> in the output generated by the emulator.
For each test the script also measures the amount of time spent to execute the instructions and, if all tests are passed, displays all measurements in a graph.

